import{B as e,s as t,g as s,_ as a}from"./index-w_drAnMy.js";import{r,j as n,b as i,C as l,d as o,L as c,T as d,e as u,D as h,f as m,g as x,h as g,i as v,U as p,k as b,l as j,P as f,m as N}from"./vendor-react-BFHtltWt.js";import"./fabric-PlldN_72.js";const w=({onAddNode:t,onAddConnector:s,onDelete:a,onClearAll:g,onExport:v,onShare:p,onSave:b,isConnecting:j,disabled:f=!1,isMobile:N=!1})=>{const[w,y]=r.useState(null),k=e=>{N||y(e)},C=()=>{N||y(null)},S=({id:e,children:t})=>w!==e||N?null:n.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-black text-white text-xs rounded whitespace-nowrap",children:t}),z=N?18:20,E="text-white hover:bg-gray-700 "+(N?"px-1.5 py-1":"");return n.jsxs("div",{className:`bg-[#1A1A1A] ${N?"p-1":"p-2"} flex flex-wrap items-center justify-between border-b border-gray-700`,children:[n.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(e,{variant:"ghost",onClick:()=>t("rectangle"),className:E,onMouseEnter:()=>k("rect"),onMouseLeave:C,disabled:f,children:[n.jsx(i,{size:z,className:N?"":"mr-1"}),n.jsx("span",{className:""+(N?"hidden":"hidden sm:inline"),children:"RetÃ¢ngulo"})]}),n.jsx(S,{id:"rect",children:"Adicionar retÃ¢ngulo"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs(e,{variant:"ghost",onClick:()=>t("circle"),className:E,onMouseEnter:()=>k("circle"),onMouseLeave:C,disabled:f,children:[n.jsx(l,{size:z,className:N?"":"mr-1"}),n.jsx("span",{className:""+(N?"hidden":"hidden sm:inline"),children:"CÃ­rculo"})]}),n.jsx(S,{id:"circle",children:"Adicionar cÃ­rculo"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs(e,{variant:"ghost",onClick:()=>t("diamond"),className:E,onMouseEnter:()=>k("diamond"),onMouseLeave:C,disabled:f,children:[n.jsx(o,{size:z,className:N?"":"mr-1"}),n.jsx("span",{className:""+(N?"hidden":"hidden sm:inline"),children:"Losango"})]}),n.jsx(S,{id:"diamond",children:"Adicionar losango"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs(e,{variant:"ghost",onClick:s,className:`${E} ${j?"bg-green-800":""}`,onMouseEnter:()=>k("connect"),onMouseLeave:C,disabled:f,children:[n.jsx(c,{size:z,className:N?"":"mr-1"}),n.jsx("span",{className:""+(N?"hidden":"hidden sm:inline"),children:"Conectar"})]}),n.jsx(S,{id:"connect",children:j?"Clique em dois nÃ³s para conectar":"Conectar dois nÃ³s"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs(e,{variant:"ghost",onClick:a,className:E,onMouseEnter:()=>k("delete"),onMouseLeave:C,disabled:f,children:[n.jsx(d,{size:z,className:N?"":"mr-1"}),n.jsx("span",{className:""+(N?"hidden":"hidden sm:inline"),children:"Apagar"})]}),n.jsx(S,{id:"delete",children:"Apagar selecionados"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs(e,{variant:"ghost",onClick:g,className:`${E} hover:bg-red-800`,onMouseEnter:()=>k("clearAll"),onMouseLeave:C,disabled:f,children:[n.jsx(u,{size:z,className:N?"":"mr-1"}),n.jsx("span",{className:""+(N?"hidden":"hidden sm:inline"),children:"Limpar"})]}),n.jsx(S,{id:"clearAll",children:"Limpar toda a tela"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[n.jsxs("div",{className:"relative",children:[n.jsxs(e,{variant:"ghost",onClick:()=>v("png"),className:E,onMouseEnter:()=>k("export"),onMouseLeave:C,disabled:f,children:[n.jsx(h,{size:z,className:N?"":"mr-1"}),n.jsx("span",{className:""+(N?"hidden":"hidden sm:inline"),children:"Exportar"})]}),n.jsx(S,{id:"export",children:"Exportar como PNG"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs(e,{variant:"ghost",onClick:p,className:E,onMouseEnter:()=>k("share"),onMouseLeave:C,disabled:f,children:[n.jsx(m,{size:z,className:N?"":"mr-1"}),n.jsx("span",{className:""+(N?"hidden":"hidden sm:inline"),children:"Compartilhar"})]}),n.jsx(S,{id:"share",children:"Compartilhar via URL"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs(e,{variant:"primary",onClick:()=>{b(),N||(y("saved"),setTimeout((()=>y(null)),2e3))},onMouseEnter:()=>k("save"),onMouseLeave:()=>"saved"!==w&&C(),disabled:f,children:[n.jsx(x,{size:z,className:N?"":"mr-1"}),n.jsx("span",{className:""+(N?"hidden":"hidden sm:inline"),children:"Salvar"})]}),n.jsx(S,{id:"save",children:"Salvar localmente"}),n.jsx(S,{id:"saved",children:"âœ“ Salvo com sucesso!"})]})]})]})},y=({isOpen:t,onClose:s,shareableLink:a})=>{const[i,l]=r.useState(!1);r.useEffect((()=>{if(i){const e=setTimeout((()=>{l(!1)}),2e3);return()=>clearTimeout(e)}}),[i]);return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Share Flowchart"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Anyone with this link can view your flowchart:"}),n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 p-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-[#00FF88]"}),n.jsx(e,{onClick:()=>{navigator.clipboard.writeText(a),l(!0)},variant:"primary",className:"rounded-l-none",children:i?n.jsx(g,{size:18}):n.jsx(v,{size:18})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(e,{onClick:s,variant:"ghost",children:"Close"})})]})}):null},k=()=>{const e=(new Date).getFullYear();return n.jsxs("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 text-white py-2 px-4 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3 bg-blue-500 p-1 rounded",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[n.jsx("path",{d:"M2 8a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}),n.jsx("path",{d:"m9 12 2 2 4-4"})]})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold tracking-wide",children:"FlowchartG"}),n.jsx("div",{className:"text-xs text-gray-400",children:"v1.0.0 - Professional Edition"})]})]}),n.jsxs("div",{className:"text-xs flex items-center",children:[n.jsxs("span",{className:"text-gray-400",children:["Â© ",e," DevFerreiraG"]}),n.jsx("span",{className:"mx-2 text-gray-400",children:"|"}),n.jsxs("a",{href:"https://linkedin.com/in/DevFerreiraG",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-300 transition-colors flex items-center",title:"LinkedIn",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 mr-1",children:n.jsx("path",{d:"M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"})}),n.jsx("span",{className:"hidden sm:inline",children:"LinkedIn"})]}),n.jsx("span",{className:"mx-2 text-gray-400",children:"|"}),n.jsxs("a",{href:"https://github.com/FuturoDevJunior/FlowchartG",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-300 transition-colors flex items-center",title:"GitHub",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 mr-1",children:n.jsx("path",{d:"M12 0a12 12 0 00-3.8 23.4c.6.1.8-.3.8-.6v-2.2c-3.3.7-4-1.4-4-1.4-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.4 1 .1-.8.4-1.3.8-1.6-2.8-.3-5.6-1.3-5.6-6 0-1.2.5-2.3 1.3-3.1-.1-.4-.6-1.6.1-3.2 0 0 1-.3 3.3 1.2a11.5 11.5 0 016 0C17 6.7 18 7 18 7c.7 1.6.2 2.9.1 3.2.8.8 1.3 1.9 1.3 3.2 0 4.6-2.9 5.6-5.6 5.9.4.4.8 1.1.8 2.2v3.3c0 .3.2.7.8.6A12 12 0 0012 0z"})}),n.jsx("span",{className:"hidden sm:inline",children:"GitHub"})]})]})]})};const C=({canUndo:e,canRedo:t,onUndo:s,onRedo:a})=>n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:s,disabled:!e,className:"p-1.5 rounded "+(e?"bg-gray-200 hover:bg-gray-300 text-gray-700":"bg-gray-100 text-gray-400 cursor-not-allowed"),title:"Desfazer (Ctrl+Z)","aria-label":"Desfazer Ãºltima aÃ§Ã£o","data-cy":"undo-button",children:n.jsx(p,{size:16})}),n.jsx("button",{onClick:a,disabled:!t,className:"p-1.5 rounded "+(t?"bg-gray-200 hover:bg-gray-300 text-gray-700":"bg-gray-100 text-gray-400 cursor-not-allowed"),title:"Refazer (Ctrl+Y)","aria-label":"Refazer aÃ§Ã£o","data-cy":"redo-button",children:n.jsx(b,{size:16})})]}),S=({initialData:e})=>{const i=r.useRef(null),l=r.useRef(null),o=r.useRef(null),c=r.useRef(0),[d,u]=r.useState(!1),[h,m]=r.useState(null),[x,g]=r.useState(!1),[v,p]=r.useState(""),[b,S]=r.useState(e),[z,E]=r.useState(!localStorage.getItem("tutorialSeen")),[L,M]=r.useState(!0),[A,T]=r.useState(!1),[R,F]=r.useState(!1),[D,I]=r.useState(1),[W,O]=r.useState(""),[P,_]=r.useState(!1),{state:G,update:B,undo:H,redo:U,canUndo:V,canRedo:$}=function(e,t=20){const[s,a]=r.useState(e),[n,i]=r.useState([]),[l,o]=r.useState([]),c=r.useCallback((e=>{a((s=>{const a="function"==typeof e?e(s):e;return JSON.stringify(s)!==JSON.stringify(a)&&(i((e=>{const a=[...e,s];return a.length>t?a.slice(1):a})),o([])),a}))}),[t]),d=r.useCallback((()=>{if(0===n.length)return;const e=n[n.length-1];i((e=>e.slice(0,e.length-1))),o((e=>[...e,s])),a(e)}),[n,s]),u=r.useCallback((()=>{if(0===l.length)return;const e=l[l.length-1];o((e=>e.slice(0,e.length-1))),i((e=>[...e,s])),a(e)}),[l,s]),h=n.length>0,m=l.length>0,x=r.useCallback((()=>{i([]),o([])}),[]),g=r.useCallback((e=>{a(e),i([]),o([])}),[]);return{state:s,update:c,undo:d,redo:u,canUndo:h,canRedo:m,clearHistory:x,reset:g,history:{past:n,future:l}}}(e||{nodes:[],connections:[],selectedNodeType:"rectangle"}),q=r.useCallback((()=>{if(o.current&&l.current&&i.current)try{const e=o.current.clientWidth||800,t=o.current.clientHeight||500,s=e-(R?10:20),a=t-(R?10:20);i.current.width=s,i.current.height=a,i.current.style.width=`${s}px`,i.current.style.height=`${a}px`,l.current.handleResize(s,a)}catch(e){}}),[R]),Z=r.useCallback((e=>{S(e),B(e);try{t(e)}catch(s){}}),[B]);r.useEffect((()=>{const e=()=>{const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768;F(e)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),r.useEffect((()=>{M(!0),T(!1);const t=async()=>{if(i.current&&o.current&&!l.current)try{const r=o.current.clientWidth||800,n=o.current.clientHeight||500,d=r-(R?10:20),u=n-(R?10:20);i.current&&(i.current.width=d,i.current.height=u,i.current.style.width=`${d}px`,i.current.style.height=`${u}px`);try{const{FlowchartCanvas:t}=await a((async()=>{const{FlowchartCanvas:e}=await import("./fabric-PlldN_72.js").then((e=>e.f));return{FlowchartCanvas:e}}),[]);l.current=new t("flowchart-canvas",e,Z,d,u),window.addEventListener("resize",q),setTimeout((()=>{l.current&&(l.current.centerView(),e?.nodes?.length&&e.nodes.length>1&&(I(.8),l.current.setZoom(.8)))}),500),M(!1)}catch(s){if(c.current<3){c.current++;const e=500*c.current;setTimeout(t,e)}else T(!0),M(!1)}}catch(s){T(!0),M(!1)}},s=setTimeout(t,R?500:200);return()=>{if(clearTimeout(s),window.removeEventListener("resize",q),l.current){try{l.current.destroy()}catch(e){}l.current=null}}}),[e,R,Z,q]);const J=r.useCallback((()=>{if(l.current)try{const e=Math.min(D+.1,3);I(e),l.current.setZoom(e)}catch(e){}}),[D]),Y=r.useCallback((()=>{if(l.current)try{const e=Math.max(D-.1,.3);I(e),l.current.setZoom(e)}catch(e){}}),[D]),K=r.useCallback((()=>{if(l.current)try{l.current.centerView(),I(1)}catch(e){}}),[]);r.useEffect((()=>{if(z){const e=setTimeout((()=>{E(!1),localStorage.setItem("tutorialSeen","true")}),15e3);return()=>clearTimeout(e)}}),[z]),r.useCallback((e=>{if(l.current&&i.current)try{const t=i.current.width/2,s=i.current.height/2;l.current.addNode(e,t,s)}catch(t){alert("Erro ao adicionar forma. Tente novamente.")}}),[]),r.useCallback((()=>{l.current&&(d?(u(!1),m(null)):(u(!0),m(null),R?alert("Toque no primeiro nÃ³ e depois no segundo nÃ³ para conectÃ¡-los"):alert("Clique no primeiro nÃ³ e depois no segundo nÃ³ para conectÃ¡-los")))}),[d,R]),r.useCallback((()=>{if(l.current)try{l.current.deleteSelectedObjects()}catch(e){}}),[]),r.useCallback((e=>{if(l.current)try{const t=l.current.exportAsImage(e),s=document.createElement("a");s.download=`flowchart.${e}`,s.href=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(t){alert("Erro ao exportar. Tente novamente.")}}),[]);const Q=r.useCallback((()=>{if(l.current&&b)try{const e=s(b);p(e),g(!0)}catch(e){alert("Erro ao gerar link compartilhÃ¡vel. Tente novamente.")}}),[b]);r.useCallback((async()=>{if(l.current&&b)try{t(b),alert("Fluxograma salvo localmente com sucesso!")}catch(e){alert("Erro ao salvar. Tente novamente.")}}),[b]);const X=r.useCallback((()=>{if(c.current=0,T(!1),M(!0),l.current){try{l.current.destroy()}catch(t){}l.current=null}setTimeout((()=>{(async()=>{try{const{FlowchartCanvas:t}=await a((async()=>{const{FlowchartCanvas:e}=await import("./fabric-PlldN_72.js").then((e=>e.f));return{FlowchartCanvas:e}}),[]),s=o.current?.clientWidth||800,r=o.current?.clientHeight||500,n=s-(R?10:20),c=r-(R?10:20);i.current&&(l.current=new t("flowchart-canvas",e,Z,n,c),M(!1))}catch(t){T(!0),M(!1)}})()}),500)}),[Z,e,R]);r.useCallback((()=>{if(l.current)try{window.confirm("Tem certeza que deseja limpar toda a tela? Esta aÃ§Ã£o nÃ£o pode ser desfeita.")&&(l.current.clearAll(),d&&(u(!1),m(null)))}catch(e){}}),[d]),r.useEffect((()=>{if(!l.current)return;const e=e=>{if(l.current&&d)try{e.stopPropagation();const t=l.current.getNodeFromEvent(e);if(t){const e=t.id;h?h!==e&&(l.current.addConnection(h,e),l.current.highlightNode(h,!1),m(null),u(!1),O("ConexÃ£o criada com sucesso!"),_(!0),setTimeout((()=>_(!1)),2e3)):(m(e),l.current&&(l.current.highlightNode(e,!0),O("Agora selecione o nÃ³ de destino"),_(!0),setTimeout((()=>_(!1)),3e3)))}}catch(t){O("Erro ao criar conexÃ£o. Tente novamente."),_(!0),setTimeout((()=>_(!1)),3e3),m(null),u(!1)}},t=document.getElementById("flowchart-canvas");return t&&(t.addEventListener("mousedown",e),t.addEventListener("touchstart",e)),()=>{t&&(t.removeEventListener("mousedown",e),t.removeEventListener("touchstart",e))}}),[d,h]),r.useEffect((()=>{if(!l.current)return;const e=e=>{try{const t=l.current;if(!t)return;const s=Array.from(t.getData().nodes),a=t;s.forEach((t=>{const s=a.nodes.get(t.id);s&&(e?(s.data.originalStroke||(s.data.originalStroke=s.stroke||"#000000",s.data.originalStrokeWidth=s.strokeWidth||2),h&&s.data.id===h?s.set({stroke:"#FF3D00",strokeWidth:4}):s.set({stroke:"#1976D2",strokeWidth:3})):s.data.originalStroke&&(s.set({stroke:s.data.originalStroke,strokeWidth:s.data.originalStrokeWidth}),delete s.data.originalStroke,delete s.data.originalStrokeWidth))})),a.canvas&&a.canvas.requestRenderAll&&a.canvas.requestRenderAll()}catch(t){}};return e(d),()=>{d&&e(!1)}}),[d,h,l]);const ee=r.useMemo((()=>({onShareClick:Q,onExportPNG:()=>{},onExportSVG:()=>{},onReset:()=>{}})),[Q]);return r.useMemo((()=>({zoomIn:J,zoomOut:Y,centerView:K})),[J,Y,K]),n.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[z&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",onClick:()=>{E(!1),localStorage.setItem("tutorialSeen","true")},"data-cy":"tutorial-overlay",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-lg",onClick:e=>e.stopPropagation(),children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Bem-vindo ao FlowchartG!"}),n.jsx("p",{className:"mb-3",children:"Para criar seu fluxograma:"}),n.jsxs("ol",{className:"list-decimal pl-5 mb-4 space-y-2",children:[n.jsx("li",{children:"Clique duplo para adicionar um nÃ³"}),n.jsx("li",{children:"Arraste para mover nÃ³s"}),n.jsx("li",{children:"Clique em um nÃ³ e depois em outro para conectÃ¡-los"}),n.jsx("li",{children:"Selecione um nÃ³ e edite seu texto"}),n.jsx("li",{children:"Use a barra de ferramentas para personalizar seu fluxograma"})]}),n.jsx("p",{className:"mb-4",children:"Tudo Ã© salvo automaticamente no seu navegador."}),n.jsx("button",{className:"w-full py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{E(!1),localStorage.setItem("tutorialSeen","true")},"data-cy":"tutorial-close-button",children:"Entendi, vamos comeÃ§ar!"})]})}),n.jsx(w,{...ee,isConnecting:d,onToggleConnect:()=>u(!d),selectedNodeType:b?.selectedNodeType||"rectangular",onSelectedNodeTypeChange:e=>{l.current&&b&&S({...b,selectedNodeType:e})}}),n.jsx("div",{className:"flex justify-end px-4 py-2 bg-gray-100 border-b",children:n.jsx(C,{canUndo:V,canRedo:$,onUndo:H,onRedo:U})}),P&&n.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-md bg-blue-600 text-white shadow-lg z-50 animate-fadeIn",children:W}),d&&n.jsx("div",{className:"bg-blue-600 text-white px-4 py-3 shadow-md",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),n.jsx("span",{className:"font-semibold",children:h?"ðŸ”€ Selecione o SEGUNDO nÃ³ para completar a conexÃ£o":"ðŸ”€ Selecione o PRIMEIRO nÃ³ para iniciar a conexÃ£o"})]}),n.jsx("button",{onClick:()=>{u(!1),m(null)},className:"bg-white text-blue-600 px-3 py-1 rounded-md text-sm font-medium hover:bg-blue-100 transition-colors",children:"Cancelar"})]})}),n.jsx("div",{ref:o,className:"flex-1 flex items-center justify-center p-4 bg-gray-100 overflow-hidden relative",style:{minHeight:R?"60vh":"70vh",height:R?"calc(var(--vh, 1vh) * 80)":"auto"},children:n.jsxs("div",{className:"relative border-2 border-gray-400 rounded-lg shadow-lg bg-white",style:{width:"95%",height:"95%",maxWidth:"1600px",maxHeight:"800px",position:"relative",overflow:"hidden"},children:[n.jsx("canvas",{ref:i,id:"flowchart-canvas",className:"absolute inset-0 z-10",style:{touchAction:"none",display:"block",border:"1px solid #ccc",boxShadow:"inset 0 0 10px rgba(0,0,0,0.05)"}}),n.jsxs("div",{className:"absolute bottom-4 right-4 z-30 bg-white rounded-lg shadow-md p-2 flex items-center space-x-1",children:[n.jsx("button",{onClick:Y,className:"p-1 hover:bg-gray-100 rounded-full",title:"Diminuir zoom",children:n.jsx(j,{size:18})}),n.jsxs("span",{className:"text-xs font-mono px-2",children:[Math.round(100*D),"%"]}),n.jsx("button",{onClick:J,className:"p-1 hover:bg-gray-100 rounded-full",title:"Aumentar zoom",children:n.jsx(f,{size:18})}),n.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),n.jsx("button",{onClick:K,className:"p-1 hover:bg-gray-100 rounded-full",title:"Centralizar diagrama",children:n.jsx(N,{size:18})})]}),L&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white z-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-t-4 border-blue-500 border-solid rounded-full animate-spin mx-auto mb-4"}),n.jsx("div",{className:"text-xl text-gray-700",children:"Carregando editor..."})]})}),A&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white z-20",children:n.jsxs("div",{className:"text-center max-w-md p-6",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-red-500",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("div",{className:"text-xl text-gray-700 mb-4",children:"NÃ£o foi possÃ­vel carregar o editor"}),n.jsx("p",{className:"text-gray-600 mb-4",children:R?"Alguns dispositivos mÃ³veis podem ter limitaÃ§Ãµes com o canvas. Tente utilizar um dispositivo com mais memÃ³ria ou um computador.":"Ocorreu um erro ao inicializar o canvas. Isso pode ser devido a recursos limitados do navegador."}),n.jsx("button",{onClick:X,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Tentar Novamente"})]})})]})}),n.jsx(y,{isOpen:x,onClose:()=>g(!1),shareableLink:v}),n.jsx(k,{})]})};export{S as default};
